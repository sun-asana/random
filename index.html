<!DOCTYPE html>
<html>
<head>
    <style>
        body { background: #0a0a0a; color: white; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; }
        
        /* Панель управления */
        .controls { margin: 20px; padding: 15px; background: #1a1a1a; border-radius: 10px; display: flex; gap: 10px; align-items: center; border: 1px solid #333; }
        
        #colorInput { width: 50px; height: 50px; border: none; cursor: pointer; background: none; }
        #hexInput { background: #222; border: 1px solid #444; color: #fff; padding: 5px; border-radius: 4px; width: 80px; text-transform: uppercase; }

        /* Контейнер колеса */
        .wheel-container { position: relative; width: 400px; height: 400px; margin-top: 30px; }
        
        canvas {
            border-radius: 50%;
            transition: filter 0.3s ease;
            /* Начальное неоновое свечение */
            filter: drop-shadow(0 0 15px var(--neon-color));
        }
    </style>
</head>
<body>

<div class="controls">
    <label>Выбери стиль:</label>
    <input type="color" id="colorInput" value="#00ffcc">
    <input type="text" id="hexInput" value="#00ffcc" maxlength="7">
</div>

<div class="wheel-container">
    <canvas id="wheelCanvas" width="400" height="400"></canvas>
</div>

<script>
const canvas = document.getElementById('wheelCanvas');
const ctx = canvas.getContext('2d');
const colorInput = document.getElementById('colorInput');
const hexInput = document.getElementById('hexInput');

let baseColor = colorInput.value;

// Функция для изменения яркости (HEX to Lighter/Darker HEX)
function adjustColor(hex, magnitude) {
    hex = hex.replace('#', '');
    let r = parseInt(hex.substring(0, 2), 16);
    let g = parseInt(hex.substring(2, 4), 16);
    let b = parseInt(hex.substring(4, 6), 16);

    r = Math.min(255, Math.max(0, Math.round(r * magnitude)));
    g = Math.min(255, Math.max(0, Math.round(g * magnitude)));
    b = Math.min(255, Math.max(0, Math.round(b * magnitude)));

    return `#${((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1)}`;
}

function drawWheel() {
    const sectors = 8;
    const radius = canvas.width / 2;
    const centerX = canvas.width / 2;
    const centerY = canvas.height / 2;
    const arc = (2 * Math.PI) / sectors;

    ctx.clearRect(0, 0, canvas.width, canvas.height);
    
    // Обновляем свечение в CSS
    canvas.style.setProperty('--neon-color', baseColor);
    canvas.style.filter = `drop-shadow(0 0 20px ${baseColor})`;

    for (let i = 0; i < sectors; i++) {
        const angle = i * arc;
        
        // 1. Рисуем сектор с переливом (градиент)
        const gradient = ctx.createRadialGradient(centerX, centerY, 50, centerX, centerY, radius);
        gradient.addColorStop(0, adjustColor(baseColor, 0.6)); // Темнее в центре
        gradient.addColorStop(1, adjustColor(baseColor, 1.1)); // Светлее к краю
        
        ctx.beginPath();
        ctx.fillStyle = gradient;
        ctx.moveTo(centerX, centerY);
        ctx.arc(centerX, centerY, radius - 5, angle, angle + arc);
        ctx.fill();

        // 2. Разделительные полосы (светлее)
        ctx.strokeStyle = adjustColor(baseColor, 1.5);
        ctx.lineWidth = 3;
        ctx.stroke();
    }

    // 3. Внешний контур (темнее и жирнее)
    ctx.beginPath();
    ctx.arc(centerX, centerY, radius - 5, 0, 2 * Math.PI);
    ctx.strokeStyle = adjustColor(baseColor, 0.4);
    ctx.lineWidth = 10;
    ctx.stroke();
}

// Синхронизация полей
colorInput.addEventListener('input', (e) => {
    baseColor = e.target.value;
    hexInput.value = baseColor;
    drawWheel();
});

hexInput.addEventListener('input', (e) => {
    if(/^#[0-9A-F]{6}$/i.test(e.target.value)) {
        baseColor = e.target.value;
        colorInput.value = baseColor;
        drawWheel();
    }
});

drawWheel();
</script>

</body>
</html>
